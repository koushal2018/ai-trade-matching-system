[INFO] [2025-12-21 19:31:37] [fix_role_1766331097_23971] =============================================
[INFO] [2025-12-21 19:31:37] [fix_role_1766331097_23971] Fixing Trade Matching Agent Execution Role
[INFO] [2025-12-21 19:31:37] [fix_role_1766331097_23971] =============================================
[INFO] [2025-12-21 19:31:37] [fix_role_1766331097_23971] 
[INFO] [2025-12-21 19:31:37] [fix_role_1766331097_23971] Configuration:
[INFO] [2025-12-21 19:31:37] [fix_role_1766331097_23971]   Agent Runtime ID: trade_matching_ai-r8eaGb4u7B
[INFO] [2025-12-21 19:31:37] [fix_role_1766331097_23971]   New Role ARN: arn:aws:iam::401552979575:role/AmazonBedrockAgentCoreSDKRuntime-us-east-1-0f9cb91bfb
[INFO] [2025-12-21 19:31:37] [fix_role_1766331097_23971]   Region: us-east-1
[INFO] [2025-12-21 19:31:37] [fix_role_1766331097_23971]   Correlation ID: fix_role_1766331097_23971
[INFO] [2025-12-21 19:31:37] [fix_role_1766331097_23971]   Log File: fix_execution_role_20251221_193137.log
[INFO] [2025-12-21 19:31:37] [fix_role_1766331097_23971] 
[INFO] [2025-12-21 19:31:37] [fix_role_1766331097_23971] Step 1: Verifying IAM role exists...
[DEBUG] [2025-12-21 19:31:37] [fix_role_1766331097_23971] Executing: aws iam get-role --role-name AmazonBedrockAgentCoreSDKRuntime-us-east-1-0f9cb91bfb
[INFO] [2025-12-21 19:31:39] [fix_role_1766331097_23971] ✅ Role verified successfully
[DEBUG] [2025-12-21 19:31:39] [fix_role_1766331097_23971] Role details: {
    "Arn": "arn:aws:iam::401552979575:role/AmazonBedrockAgentCoreSDKRuntime-us-east-1-0f9cb91bfb",
    "TrustPolicy": {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Sid": "AssumeRolePolicy",
                "Effect": "Allow",
                "Principal": {
                    "Service": "bedrock-agentcore.amazonaws.com"
                },
                "Action": "sts:AssumeRole",
                "Condition": {
                    "StringEquals": {
                        "aws:SourceAccount": "401552979575"
                    },
                    "ArnLike": {
                        "aws:SourceArn": "arn:aws:bedrock-agentcore:us-east-1:401552979575:*"
                    }
                }
            }
        ]
    }
}
[INFO] [2025-12-21 19:31:39] [fix_role_1766331097_23971] ✅ Trust policy includes bedrock-agentcore service
[INFO] [2025-12-21 19:31:39] [fix_role_1766331097_23971] 
[INFO] [2025-12-21 19:31:39] [fix_role_1766331097_23971] Step 2: Updating AgentCore Runtime execution role...
[DEBUG] [2025-12-21 19:31:39] [fix_role_1766331097_23971] Executing: aws bedrock-agentcore-control update-agent-runtime
[DEBUG] [2025-12-21 19:31:39] [fix_role_1766331097_23971] Parameters: agent-runtime-id=trade_matching_ai-r8eaGb4u7B, role-arn=arn:aws:iam::401552979575:role/AmazonBedrockAgentCoreSDKRuntime-us-east-1-0f9cb91bfb
