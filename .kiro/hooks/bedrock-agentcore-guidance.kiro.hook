{
  "enabled": true,
  "name": "Bedrock AgentCore Best Practices",
  "description": "Provides guidance when editing Bedrock AgentCore agent files - reminding to plan for security/authentication early, integrate modular services (Memory, Gateway), use Observability for monitoring and filtering sensitive data, leverage built-in tools (Browser, Code Interpreter), and use versioning/aliases for A/B testing and evaluation.",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "deployment/**/*agent*.py",
      "deployment/**/*agentcore*.yaml",
      "terraform/agentcore/**/*.tf",
      "src/**/agents/*.py"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "When building agents with Bedrock AgentCore, remember these best practices:\n\n1. **Security & Authentication**: Plan for security early - configure IAM roles, implement proper authentication flows, and use Cognito for identity management where applicable.\n\n2. **Modular Services Integration**:\n   - **Memory**: Integrate AgentCore Memory for conversation history and context persistence\n   - **Gateway**: Use AgentCore Gateway for API management, rate limiting, and secure agent access\n\n3. **Observability**: Implement AgentCore Observability to monitor agent performance, track metrics, and configure filters to redact sensitive data (PII, financial data) from logs.\n\n4. **Built-in Tools**: Leverage built-in tools like Browser and Code Interpreter for specific workflows rather than building custom solutions.\n\n5. **Versioning & Aliases**: Use agent versioning and aliases to enable A/B testing, gradual rollouts, and systematic evaluation of agent improvements.\n\nReview the current changes with these principles in mind and suggest any improvements."
  }
}