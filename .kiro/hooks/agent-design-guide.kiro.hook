{
  "enabled": true,
  "name": "Agent Design & Architecture Guide",
  "description": "Provides guidance on agent design best practices when editing agent files - including clear role definitions, architecture patterns (orchestrators, supervisors, peer networks), tool integration, and state/session management.",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "src/latest_trade_matching_agent/agents/*.py",
      "deployment/**/*_agent*.py",
      "deployment/swarm/*.py"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "Review the agent code being edited and provide guidance on agent design best practices:\n\n1. **Define Clear Agent Roles**: Ensure each agent has a clearly defined purpose and responsibilities. Check that the agent's role, goal, and backstory are specific and non-overlapping with other agents, especially in multi-agent systems.\n\n2. **Utilize Agent Architectures**: Recommend appropriate architecture patterns:\n   - **Orchestrator**: Central coordinator that delegates to specialized agents\n   - **Supervisor**: Monitors and manages agent execution with human-in-the-loop\n   - **Peer Network**: Agents collaborate as equals for distributed workflows\n   - **Swarm**: Autonomous agents that hand off tasks based on context (current implementation)\n   \n3. **Leverage Tools Effectively**: Verify the agent integrates appropriate tools (built-in like calculator, python_repl, mem0_memory, or custom tools). Suggest additional tools that could extend capabilities.\n\n4. **Manage State and Sessions**: Check for proper session management and state persistence. Ensure the agent maintains context across interactions using Strands' built-in support.\n\nProvide specific, actionable recommendations based on the code being edited."
  }
}